---
title: "Assignment 1"
author: "Yasamin Nouri Jelyani"
output:
  html_document:
    toc: true
    toc_depth: 2
    df_print: paged
bibliography: a2.bib
csl: biomed-central.csl
nocite: '@*'
---

# Introduction

Women of African American (AA) ancestry are know to have more risk of being 
diagnosed
with ER-/TN(triple negative) breast cancer, as compared to women in European 
American (EA) ancestry. This study looks at a number of differentially expressed 
microRNA (DEmiRs) to identify miRNA patterns that are potential biomarkers 
of this disease. This study found that out of the 102 ER-subtype related DemiRs, majority 
of them were specific to the race, and only 23 were common between the races (1).
Hence, there are subsets of microRNA that are differentially expressed between EA and
AA women. This information help with better targetted treatment of this type of cancer.

Tissue samples:
58 Breast cancer patient (29 AA, 29 EA)
10 healthy women (5 AA, 5 EA)
<br/>
**Question1: What are the control and test conditions of the dataset?** <br/> 
Control condition: Healthy female breast tissue, for both AA and EA decent individuals <br/> 

test condition: Breast cancer breast tissue for both ER+ and ER- cancer types
and for for AA and EA decent patients.
<br/>

**Question2: Why us the dataset of interest to you?** <br/> 
 Since breast cancer has disproportionately effected the individuals from
 the african american decent in the clinic, it is interesting for 
 me to know the reason for this increased vulnerability to breast cancer 
 in this population. This study helps clearify the effect of differentially expressed
 microRNA among the AA and EA population. This information will help guide treatment 
 and prognosis in the clinic. <br/>
 
 
# Find duplicated genes

# Download the Data
First, I downloaded the GEOmetaDB, and got access to the meta data:
```{r eval=FALSE}
if (!requireNamespace("BiocManager", quietly = TRUE))
    install.packages("BiocManager")
if (!requireNamespace("GEOmetadb", quietly = TRUE))
    BiocManager::install("GEOmetadb")
if(!requireNamespace("knitr", quietly=TRUE))
  install.packages("knitr")
if(! requireNamespace("edgeR", quietly=TRUE))
  BiocManager::install("edgeR")
if (!requireNamespace("GEOquery", quietly=TRUE))
  BiocManager::install("GEOquery")
if (!requireNamespace("biomaRt", quietly = TRUE)){
  install.packages("biomaRt")}
if (!require("BiocManager", quietly = TRUE))
    install.packages("BiocManager")

library(GEOmetadb)
library(biomaRt)
if( !file.exists("GEOmetadb.sqlite") ) {
    demo_sqlfile <- getSQLiteFile(destdir = getwd(), destfile = "GEOmetadb.sqlite.gz", type = "demo")
} else {
    demo_sqlfile <- "GEOmetadb.sqlite"
    
}
file.info(demo_sqlfile)
con <- dbConnect(SQLite(), demo_sqlfile)
```

Query of the database:

```



Open the data:
```{r message=FALSE}
sfiles = GEOquery::getGEOSuppFiles('GSE156543')

#if the file exists, open it
fnames <- "GSE156543/GSE117452_expn_matrix_mimat.txt.gz"
if (! file.exists(fnames)){
  gse <- GEOquery::getGEO("GSE117452", GSEMatrix=FALSE)
  sfiles = GEOquery::getGEOSuppFiles("GSE117452")
  fnames = rownames(sfiles)
}
```





## Geo Description of dataset:
```{r message=FALSE}
gse <- GEOquery::getGEO("GSE156543",GSEMatrix=FALSE)

knitr::kable(data.frame(head(GEOquery::Meta(gse))), format = "html")
```

Platform title:
```{r warning=FALSE}
current_gpl <- names(GEOquery::GPLList(gse))[1]
current_gpl_info <- GEOquery::Meta(GEOquery::getGEO(current_gpl))
```


**Platform title:** `r current_gpl_info$title`<br /> **Submission data:**`r current_gpl_info$submission_date` <br/> **Last Update data:** `r current_gpl_info$last_update_date` <br/> **Organism:** `r current_gpl_info$organism` <br/> **Number of GEO datasets using this technology:** `r length(current_gpl_info$series_id)` <br/> **Number of GEO samples that use this technology:**`r length(current_gpl_info$sample_id)`<br/>


Getting the expression data IMP
```{r message=FALSE}
sfiles = GEOquery::getGEOSuppFiles('GSE156543')

fnames = rownames(sfiles)

#69 columns, there are 68 samples (58 breast cancer patients 
#(29 AA and 29 EA women) and 10 (5 AA and 5 EA) healthy women.)

#589 rows (Genes) differentially expressed microRNA


er_exp = read.delim(fnames[1],header=TRUE, check.names = FALSE) #not correct col names


knitr::kable(er_exp[1:5,], format = "html")
er_exp[1:5,]

```



# References

